{"version":3,"sources":["actions/index.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/pages/cart-page.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/index.js","components/hoc/with-bookstore-service.js","utils/index.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/pages/home-page.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js","services/bookstore-service.js"],"names":["bookAddedToCart","bookId","type","payload","fetchBooks","bookstoreService","dispatch","getBooks","then","data","catch","error","booksError","mapDispatchToProps","onIncrease","onDecrease","onDelete","ShoppingCartTable","connect","_ref2","_ref2$shoppingCart","shoppingCart","items","cartItems","total","orderTotal","_ref","react_default","a","createElement","className","map","item","idx","id","title","count","key","onClick","CartPage","components_shopping_cart_table","BookListItem","book","onAddedToCart","author","price","coverImage","src","alt","href","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","Object","assign","compose","_len","arguments","length","funcs","Array","_key","comp","reduceRight","wrapped","f","Spinner","style","width","height","margin","left","top","animationDelay","ErrorIndicator","BookListContainer","this","_this$props","books","loading","components_spinner","components_error_indicator","book_list_BookList","Component","BookList","_ref3","components_book_list_item","_ref$bookList","bookList","bindActionCreators","HomePage","components_book_list","ShopHeader","countTotal","react_router_dom","to","App","role","components_shop_header","numItems","react_router","path","component","exact","ErrorBoundry","state","hasError","info","setState","children","updateBookList","action","undefined","updateCartItems","itemIndex","concat","toConsumableArray","slice","updateOrder","quantity","_state$shoppingCart","find","findIndex","newItem","_item$id","_item$title","_item$count","_item$total","Number","toFixed","updateCartItem","updateShoppingCart","reducer","store","createStore","applyMiddleware","thunkMiddleware","next","getState","console","log","setTimeout","bookService","_this","Promise","resolve","reject","ReactDOM","render","es","error_boundry","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.7892b0ba.chunk.js","sourcesContent":["const booksLoaded = (newBooks) => {\r\n  return {\r\n    type: 'FETCH_BOOKS_SUCCESS',\r\n    payload: newBooks\r\n  };\r\n};\r\n\r\nconst booksRequested = () => {\r\n  return {\r\n    type: 'FETCH_BOOKS_REQUEST'\r\n   }\r\n}\r\n\r\nconst booksError = (error) => {\r\n  return {\r\n    type: 'FETCH_BOOKS_FAILURE',\r\n    payload: error\r\n  }\r\n}\r\n\r\nconst bookAddedToCart = (bookId) => {\r\n  return {\r\n    type: 'BOOK_ADDED_TO_CART',\r\n    payload: bookId\r\n  }\r\n}\r\n\r\nconst allBookDeleteFromCart = (bookId) => {\r\n  return {\r\n    type: 'ALL_BOOK_DELETE_FROM_CART',\r\n    payload: bookId\r\n  }\r\n}\r\n\r\nconst bookDeleteFromCart = (bookId) => {\r\n  return {\r\n    type: 'BOOK_DELETE_FROM_CART',\r\n    payload: bookId\r\n  }\r\n}\r\n\r\nconst fetchBooks = (bookstoreService) => () => (dispatch) => {\r\n  dispatch(booksRequested());\r\n  bookstoreService.getBooks()\r\n                  .then((data) => dispatch(booksLoaded(data)))\r\n                  .catch((error) => dispatch(booksError(error)));\r\n  }\r\n\r\nexport {\r\n  fetchBooks,\r\n  bookAddedToCart,\r\n  allBookDeleteFromCart,\r\n  bookDeleteFromCart\r\n}","import React from 'react';\r\nimport './shopping-cart-table.css';\r\nimport { connect } from 'react-redux';\r\nimport { \r\n  allBookDeleteFromCart,\r\n         bookAddedToCart,\r\n         bookDeleteFromCart } from '../../actions';\r\n\r\nconst ShoppingCartTable = ({items, total, onIncrease, onDecrease, onDelete}) => {\r\n  const renderRow = (item, idx) => {\r\n    const { id, title, count, total } = item;\r\n    return (\r\n      <tr key={id}>\r\n            <td>{idx + 1}</td>\r\n            <td>{title}</td>\r\n            <td>{count}</td>\r\n            <td>${total}</td>\r\n            <td>\r\n              <button onClick={()=> onDelete(id)}\r\n                      className=\"btn btn-outline-danger btn-sm float-right\">\r\n                <i className=\"fa fa-trash-o\"/>\r\n              </button>\r\n              <button onClick={() => onDecrease(id)}\r\n                      className=\"btn btn-outline-warning btn-sm float-right\">\r\n                <i className=\"fa fa-minus-circle\" />\r\n              </button>\r\n              <button onClick={()=> onIncrease(id)} \r\n                className=\"btn btn-outline-success btn-sm float-right\">\r\n                <i className=\"fa fa-plus-circle\"/>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"shopping-cart-table\"> \r\n      <h2>Your Order</h2>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Item</th>\r\n            <th>Count</th>\r\n            <th>Total</th>\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            items.map(renderRow)\r\n          }\r\n        </tbody>\r\n      </table>\r\n      <div className=\"total\">\r\n        Total: ${total}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({ shoppingCart: {cartItems, orderTotal}}) => {\r\n  return {\r\n    items: cartItems,\r\n    total: orderTotal\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    onIncrease: bookAddedToCart,\r\n    onDecrease: bookDeleteFromCart,\r\n    onDelete: allBookDeleteFromCart\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);","import ShoppingCartTable from './shopping-cart-table';\r\nexport default ShoppingCartTable;","import React from 'react';\r\nimport ShoppingCartTable from '../shopping-cart-table';\r\n\r\nexport const CartPage = () => {\r\n  return (\r\n    <ShoppingCartTable />\r\n  );\r\n}","import BookListItem from './book-list-item';\r\n\r\nexport default BookListItem;","import React from 'react';\r\nimport './book-list-item.css';\r\n\r\nconst BookListItem = ({ book, onAddedToCart }) => {\r\n  const { title, author, price, coverImage } = book;\r\n  return (\r\n    <div className=\"book-list-item\">\r\n      <div className=\"book-cover\">\r\n        <img src={coverImage} alt=\"cover\"/>\r\n      </div>\r\n      <div className=\"book-details\">\r\n        <a href=\"#top\" className=\"book-title\">{title}</a>\r\n        <div className=\"book-author\">{author}</div>\r\n        <div className=\"book-price\">${price}</div>\r\n        <button onClick={onAddedToCart}\r\n                className=\"btn btn-info add-to-cart\">\r\n          Add to cart\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookListItem;","import React from 'react';\r\n\r\nconst { Provider: BookstoreServiceProvider,\r\n        Consumer: BookstoreServiceConsumer } = React.createContext();\r\n\r\nexport {\r\n  BookstoreServiceConsumer,\r\n  BookstoreServiceProvider\r\n}","import withBookstoreService from './with-bookstore-service';\r\n\r\nexport default withBookstoreService;","import React from 'react';\r\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n  return (props) => {\r\n    return (\r\n     <BookstoreServiceConsumer>\r\n      {\r\n        (bookstoreService) => {\r\n          return (\r\n            <Wrapped {...props} \r\n                     bookstoreService={bookstoreService}/>\r\n          );\r\n        }\r\n      }\r\n      </BookstoreServiceConsumer>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withBookstoreService;","import compose from './compose';\r\n\r\nexport default compose;","const compose = (...funcs) => (comp) => {\r\n  return funcs.reduceRight((wrapped, f) => f(wrapped), comp);\r\n};\r\n\r\nexport default compose;","import Spinner from \"./spinner\";\r\nexport default Spinner;\r\n","import React from 'react';\r\n\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css ng-scope spinner\">\r\n      <div className=\"lds-blocks\" style={{ width: \"100%\", height: \"100%\", margin:\"auto\" }}>\r\n        <div style={{ left: '38px', top: '38px', animationDelay: '0s' }}></div>\r\n        <div style={{ left: '80px', top: '38px', animationDelay: '0.125s' }}></div>\r\n        <div style={{ left: '122px', top:'38px', animationDelay: '0.25s' }}></div>\r\n        <div style={{ left: '38px', top:'80px', animationDelay: '0.875s' }}></div>\r\n        <div style={{ left: '122px', top:'80px', animationDelay: '0.375s' }}></div>\r\n        <div style={{ left: '38px', top: '122px', animationDelay: '0.75s' }}></div>\r\n        <div style={{ left: '80px', top: '122px', animationDelay: '0.625s'}}></div>\r\n        <div style={{ left: '122px', top:'122px',animationDelay: '0.5s'}}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <h2>Random Error for checking ErrorBoundry. Refresh page.</h2>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;","import React, { Component } from 'react';\r\nimport './book-list.css';\r\nimport BookListItem from '../book-list-item';\r\nimport { connect } from 'react-redux';\r\nimport withBookstoreService from '../hoc';\r\nimport { fetchBooks, bookAddedToCart } from '../../actions';\r\nimport compose from '../../utils';\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nclass BookListContainer extends Component {\r\n\r\n  componentDidMount() {\r\n    const { fetchBooks } = this.props;\r\n    fetchBooks();\r\n  }\r\n\r\n  render() {\r\n    const { books, loading, error, onAddedToCart } = this.props;\r\n    \r\n    if (loading) {\r\n      return <Spinner />\r\n    }\r\n\r\n    if (error) {\r\n      return <ErrorIndicator />\r\n    }\r\n\r\n    return <BookList books={books} onAddedToCart={onAddedToCart}/>\r\n  }\r\n};\r\n\r\nconst mapStateToProps = ({bookList: {books, loading, error}}) => {\r\n  return { books, loading, error }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\r\n  return bindActionCreators({\r\n    fetchBooks: fetchBooks(bookstoreService),\r\n    onAddedToCart: bookAddedToCart\r\n  }, dispatch);\r\n};\r\n\r\nconst BookList = ({books, onAddedToCart}) => {\r\n  return (\r\n    <ul className=\"book-list\">\r\n      {\r\n        books.map((book) => {\r\n          return (<li key={book.id}><BookListItem book={book} onAddedToCart={() => onAddedToCart(book.id)}/></li>);\r\n        })\r\n      }\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default compose(\r\n                  withBookstoreService(),\r\n                  (connect(mapStateToProps, mapDispatchToProps)))(BookListContainer);","import BookList from './book-list';\r\n\r\nexport default BookList;","import React from 'react';\r\nimport BookListContainer from '../book-list';\r\n\r\nexport const HomePage = () => {\r\n\r\n  return (\r\n      <BookListContainer />\r\n  );\r\n}","import ShopHeader from './shop-header';\r\nexport default ShopHeader;","import React from 'react';\r\nimport './shop-header.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst ShopHeader = ({ total, count }) => {\r\n  \r\n  return (\r\n    <header className=\"shop-header row\">\r\n      <Link to=\"/\" >\r\n        <span className=\"logo text-dark\">ReStore</span>\r\n      </Link>\r\n      <Link to=\"/cart\">\r\n        <span className=\"shopping-cart\">\r\n          <i className=\"cart-icon fa fa-shopping-cart\"/>\r\n          {count} items (${total})\r\n        </span>\r\n      </Link>\r\n    </header>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = ({ shoppingCart: {orderTotal, countTotal}}) => {\r\n  return {\r\n    total: orderTotal,\r\n    count: countTotal\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(ShopHeader);","import App from './app';\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { HomePage, CartPage } from '../pages';\r\nimport './app.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport ShopHeader from '../shop-header';\r\n\r\nconst App = () => {\r\n\r\n  return (\r\n      <main role=\"main\" className=\"container\">\r\n        <ShopHeader numItems={5} total={100}/>\r\n        <Switch>\r\n          <Route path='/' component={HomePage} exact/>\r\n          <Route path='/cart' component={CartPage} />\r\n        </Switch>\r\n      </main>\r\n  );\r\n}\r\n\r\nexport default App;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  }\r\n\r\n  componentDidCatch(info, error) {\r\n    this.setState({ hasError: true})\r\n  }\r\n\r\n  render() {\r\n    \r\n    if(this.state.hasError) {\r\n      return <ErrorIndicator/>\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n} ","const updateBookList = (state, action) => {\r\n\r\n  if (state === undefined) {\r\n    return {\r\n      books: [],\r\n      loading: true,\r\n      error: null\r\n    }\r\n  }\r\n\r\n  switch(action.type){\r\n    case 'FETCH_BOOKS_REQUEST':\r\n      return {\r\n        books: state.bookList.books,\r\n        loading: true,\r\n        error: null\r\n      };\r\n\r\n    case 'FETCH_BOOKS_SUCCESS':\r\n      return { \r\n        books: action.payload,\r\n        loading: false,\r\n        error: null };\r\n\r\n    case 'FETCH_BOOKS_FAILURE':\r\n      return {\r\n        books: [],\r\n        loading: false,\r\n        error: action.payload\r\n      }\r\n\r\n    default:\r\n      return state.bookList;\r\n  }\r\n};\r\n\r\nexport default updateBookList;","const updateCartItems = (cartItems, item, itemIndex) => {\r\n\r\n  if(item.count ===0) {\r\n    return (\r\n      [\r\n        ...cartItems.slice(0, itemIndex),\r\n        ...cartItems.slice(itemIndex + 1)\r\n      ]\r\n    );\r\n  }\r\n\r\n  if(itemIndex === -1) {\r\n    return (\r\n      [\r\n        ...cartItems,\r\n        item\r\n      ]);\r\n  }\r\n\r\n  return (\r\n    [\r\n      ...cartItems.slice(0, itemIndex),\r\n      item,\r\n      ...cartItems.slice(itemIndex + 1)\r\n    ]\r\n  );\r\n};\r\n\r\nconst updateCartItem = (book, item = {}, quantity) => {\r\n  \r\n  const { id = book.id,\r\n          title = book.title, \r\n          count = 0, \r\n          total = 0 } = item;\r\n\r\n  return {\r\n    id,\r\n    title,\r\n    count: count + quantity,\r\n    total: Number((total + quantity * book.price).toFixed(2))\r\n  };\r\n};\r\n\r\nconst updateOrder = (bookId, state, quantity) => {\r\n  const { bookList: { books }, shoppingCart: { cartItems, orderTotal, countTotal } } = state;\r\n  const book = books.find((book) => book.id === bookId);\r\n  const itemIndex = cartItems.findIndex((book) => book.id === bookId);\r\n  const item = cartItems[itemIndex];\r\n  const newItem = updateCartItem(book, item, quantity);\r\n\r\n  return {\r\n    orderTotal: Number((orderTotal + book.price * quantity).toFixed(2)),\r\n    cartItems: updateCartItems(cartItems, newItem, itemIndex),\r\n    countTotal: countTotal + quantity\r\n  }\r\n};\r\n\r\nconst updateShoppingCart = (state, action) => {\r\n\r\n  if(state === undefined) {\r\n    return {\r\n      cartItems: [],\r\n      orderTotal: 0,\r\n      countTotal: 0\r\n    }\r\n  }\r\n\r\n  switch(action.type) {\r\n\r\n    case 'BOOK_ADDED_TO_CART':\r\n      return updateOrder(action.payload, state, 1);\r\n\r\n    case 'BOOK_DELETE_FROM_CART':\r\n      return updateOrder(action.payload, state, -1);\r\n\r\n    case 'ALL_BOOK_DELETE_FROM_CART':\r\n      const item = state.shoppingCart.cartItems.find((book) => book.id === action.payload);\r\n      return updateOrder(action.payload, state, -item.count);\r\n    \r\n    default:\r\n      return state.shoppingCart;\r\n  }\r\n};\r\n\r\nexport default updateShoppingCart;","import updateBookList from './book-list';\r\nimport updateShoppingCart from './shopping-cart';\r\n\r\nconst reducer = (state, action) => { \r\n  return {\r\n    bookList: updateBookList(state, action),\r\n    shoppingCart: updateShoppingCart(state, action)\r\n  }\r\n}\r\n\r\nexport default reducer;","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nimport reducer from './reducers';\r\n\r\nconst logMiddleware = ({getState}) => (next) => (action) => {\r\n  console.log(action.type, getState());\r\n  return next(action);\r\n}\r\n\r\nconst stringMiddleware = () => (next) => (action) => {\r\n  if(typeof action === 'string') {\r\n    return next({type: action});\r\n  }\r\n  return next(action);\r\n}\r\n\r\nconst myAction = (dispatch) => {\r\n  setTimeout(() => \r\n  dispatch(\"DELAYED_ACTION\"), 2000);\r\n}\r\n\r\nconst store = createStore(reducer,applyMiddleware(thunkMiddleware, stringMiddleware, logMiddleware));\r\nstore.dispatch(myAction);\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport ErrorBoundry from './components/error-boundry';\nimport store from './store';\nimport BookService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nconst bookService = new BookService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <BookstoreServiceProvider value={bookService}>\n        <Router>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundry>\n  </Provider>\n  , document.getElementById('root')\n);\n","export default class BookstoreService {\r\n\r\n  data = [\r\n    {\r\n      id: 1,\r\n      title: 'Production-Ready Microservices',\r\n      author: 'Susan J. Fowler',\r\n      price: 32.99,\r\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg'\r\n    },\r\n    {\r\n      id: 2,\r\n      title: 'Release It!',\r\n      author: 'Michael T. Nygard',\r\n      price: 24.99,\r\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg'\r\n    },\r\n    {\r\n      id: 3,\r\n      title: 'The Road to learn React',\r\n      author: 'Robin Wieruch',\r\n      price: 23.99,\r\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41JvDSREHWL._SX384_BO1,204,203,200_.jpg'\r\n    },\r\n    {\r\n      id: 4,\r\n      title: 'React Design Patterns and Best Practices',\r\n      author: 'Michele Bertoli',\r\n      price: 44.99,\r\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/51VF6WMLNmL._SX404_BO1,204,203,200_.jpg'\r\n    }\r\n  ];\r\n\r\n  getBooks() {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n          resolve(this.data);\r\n      }, 1000);\r\n    })\r\n  };\r\n}"],"sourceRoot":""}